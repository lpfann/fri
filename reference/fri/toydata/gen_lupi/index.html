



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../../docs/_static/favicon-32x32.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.2">
    
    
      
        <title>Gen Lupi - fri</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../../../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#module-fritoydatagen_lupi" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../../.." title="fri" class="md-header-nav__button md-logo">
          
            <img src="../../../../docs/_static/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              fri
            </span>
            <span class="md-header-nav__topic">
              
                Gen Lupi
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../../.." title="fri" class="md-nav__button md-logo">
      
        <img src="../../../../docs/_static/logo.png" width="48" height="48">
      
    </a>
    fri
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../docs/Guide/" title="Guide" class="md-nav__link">
      Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../docs/background/" title="Background" class="md-nav__link">
      Background
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../docs/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../docs/references/" title="References" class="md-nav__link">
      References
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="Guide Files" class="md-nav__link">
      Guide Files
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." title="Static" class="md-nav__link">
       Static
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8" checked>
    
    <label class="md-nav__link" for="nav-8">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-1" type="checkbox" id="nav-8-1" checked>
    
    <label class="md-nav__link" for="nav-8-1">
      Fri
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-8-1">
        Fri
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../compute/" title="Compute" class="md-nav__link">
      Compute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../main/" title="Main" class="md-nav__link">
      Main
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../parameter_searcher/" title="Parameter Searcher" class="md-nav__link">
      Parameter Searcher
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../plot/" title="Plot" class="md-nav__link">
      Plot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../utils/" title="Utils" class="md-nav__link">
      Utils
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-1-7" type="checkbox" id="nav-8-1-7">
    
    <label class="md-nav__link" for="nav-8-1-7">
      Model
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-1-7">
        Model
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/base_cvxproblem/" title="Base Cvxproblem" class="md-nav__link">
      Base Cvxproblem
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/base_initmodel/" title="Base Initmodel" class="md-nav__link">
      Base Initmodel
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/base_lupi/" title="Base Lupi" class="md-nav__link">
      Base Lupi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/base_type/" title="Base Type" class="md-nav__link">
      Base Type
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/classification/" title="Classification" class="md-nav__link">
      Classification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/lupi_classification/" title="Lupi Classification" class="md-nav__link">
      Lupi Classification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/lupi_ordinal_regression/" title="Lupi Ordinal Regression" class="md-nav__link">
      Lupi Ordinal Regression
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/lupi_regression/" title="Lupi Regression" class="md-nav__link">
      Lupi Regression
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/ordinal_regression/" title="Ordinal Regression" class="md-nav__link">
      Ordinal Regression
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../model/regression/" title="Regression" class="md-nav__link">
      Regression
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8-1-8" type="checkbox" id="nav-8-1-8" checked>
    
    <label class="md-nav__link" for="nav-8-1-8">
      Toydata
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-8-1-8">
        Toydata
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../gen_data/" title="Gen Data" class="md-nav__link">
      Gen Data
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Gen Lupi
      </label>
    
    <a href="./" title="Gen Lupi" class="md-nav__link md-nav__link--active">
      Gen Lupi
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#genlupidata" class="md-nav__link">
    genLupiData
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#returns" class="md-nav__link">
    Returns
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#genregressiondata2" class="md-nav__link">
    genRegressionData2
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters_1" class="md-nav__link">
    Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#returns_1" class="md-nav__link">
    Returns
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#raises" class="md-nav__link">
    Raises
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Index" class="md-nav__link">
      Index
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#genlupidata" class="md-nav__link">
    genLupiData
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#returns" class="md-nav__link">
    Returns
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#genregressiondata2" class="md-nav__link">
    genRegressionData2
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters_1" class="md-nav__link">
    Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#returns_1" class="md-nav__link">
    Returns
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#raises" class="md-nav__link">
    Raises
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="module-fritoydatagen_lupi">Module fri.toydata.gen_lupi</h1>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.utils</span> <span class="kn">import</span> <span class="n">check_random_state</span>

<span class="kn">from</span> <span class="nn">fri</span> <span class="kn">import</span> <span class="n">ProblemName</span>

<span class="k">def</span> <span class="nf">_checkLupiParam</span><span class="p">(</span>
    <span class="n">problemName</span><span class="p">,</span> <span class="n">lupiType</span><span class="p">,</span> <span class="n">n_strel</span><span class="p">,</span> <span class="n">n_weakrel</span><span class="p">,</span> <span class="n">n_priv_weakrel</span><span class="p">,</span> <span class="n">partition</span><span class="p">,</span> <span class="n">partition_priv</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the parameters supplied to the genLupiData() function are okay.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        problemName : Str</span>
<span class="sd">            Must be one of [&#39;classification&#39;, &#39;regression&#39;, &#39;ordinalRegression&#39;]</span>
<span class="sd">        lupiType : Str</span>
<span class="sd">            Must be one of [&#39;cleanLabels&#39;, &#39;cleanFeatures&#39;]</span>
<span class="sd">        n_strel : int</span>
<span class="sd">            Stands for the number of strongly relevant features to generate in genLupiData()</span>
<span class="sd">            Must be greater than 0</span>
<span class="sd">        n_weakrel : int</span>
<span class="sd">            Must be equal to the length of the partition list</span>
<span class="sd">        n_priv_weakrel : int</span>
<span class="sd">            Must be equal to the length of the partition_priv list</span>
<span class="sd">        partition : list of int</span>
<span class="sd">            The length of the list must be equal to n_weakrel</span>
<span class="sd">        partition_priv : list of int</span>
<span class="sd">            The length of the list must be equal to n_priv_weakrel</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">problemName</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">ProblemName</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Not of Type ProblemName&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">lupiType</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;cleanLabels&quot;</span><span class="p">,</span> <span class="s2">&quot;cleanFeatures&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The lupiType parameter must be a string out of [&#39;cleanLabels&#39;, &#39;cleanFeatures&#39;].&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">n_strel</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;At least one strongly relevant feature is necessary (Parmeter &#39;n_strel&#39; must be greater than 0).&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">partition</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">partition</span><span class="p">)</span> <span class="o">!=</span> <span class="n">n_weakrel</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The sum over the entries in the partition list must be equal to the parameter &#39;n_weakrel&#39;.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="ow">in</span> <span class="n">partition</span> <span class="ow">or</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">partition</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The entries in the partition list must be greater or equal to 2.&quot;</span>
            <span class="p">)</span>
    <span class="k">if</span> <span class="n">partition_priv</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">partition_priv</span><span class="p">)</span> <span class="o">!=</span> <span class="n">n_priv_weakrel</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The sum over the entries in the partition_priv list must be equal to the parameter &#39;n_priv_weakrel&#39;.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="ow">in</span> <span class="n">partition_priv</span> <span class="ow">or</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">partition_priv</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The entries in the partition_priv list must be greater or equal to 2.&quot;</span>
            <span class="p">)</span>
    <span class="k">if</span> <span class="n">lupiType</span> <span class="o">==</span> <span class="s2">&quot;cleanLabels&quot;</span> <span class="ow">and</span> <span class="n">n_priv_weakrel</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The &#39;cleanLabels&#39; data has only one strongly relevant feature by nature, this can be repeated (&#39;n_priv_repeated&#39;),&quot;</span>
            <span class="s2">&quot;or useless information can be added (&#39;n_priv_irrel&#39;) but it can not be weakend =&gt; n_priv_weakrel hast to be 0.&quot;</span>
        <span class="p">)</span>

<span class="k">def</span> <span class="nf">_genWeakFeatures</span><span class="p">(</span><span class="n">n_weakrel</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">random_state</span><span class="p">,</span> <span class="n">partition</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate n_weakrel features out of the strRelFeature</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        n_weakrel : int</span>
<span class="sd">            Number of weakly relevant feature to be generated</span>
<span class="sd">        X : array of shape [n_samples, n_features]</span>
<span class="sd">            Contains the data out of which the weakly relevant features are created</span>
<span class="sd">        random_state : Random State object</span>
<span class="sd">            Used to generate the samples</span>
<span class="sd">        partition : list of int</span>
<span class="sd">            Used to define how many weak features are calculated from the same strong feature</span>
<span class="sd">            The sum of the entries in the partition list must be equal to n_weakrel</span>

<span class="sd">        Returns</span>
<span class="sd">        ----------</span>
<span class="sd">        X_weakrel : array of shape [n_samples, n_weakrel]</span>
<span class="sd">            Contains the data of the generated weak relevant features</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">X_weakrel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">zeros</span><span class="p">([</span><span class="n">X</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">n_weakrel</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">partition</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_weakrel</span><span class="p">):</span>
            <span class="n">X_weakrel</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span>
                <span class="p">:,</span> <span class="n">random_state</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="p">]</span> <span class="o">+</span> <span class="n">random_state</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="kp">size</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="p">)):</span>
            <span class="n">X_weakrel</span><span class="p">[:,</span> <span class="n">idx</span> <span class="p">:</span> <span class="n">idx</span> <span class="o">+</span> <span class="n">partition</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">tile</span><span class="p">(</span>
                <span class="n">X</span><span class="p">[:,</span> <span class="n">random_state</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])],</span> <span class="p">(</span><span class="n">partition</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">)</span><span class="o">.</span><span class="n">T</span> <span class="o">+</span> <span class="n">random_state</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="kp">size</span><span class="o">=</span><span class="n">partition</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
            <span class="n">idx</span> <span class="o">+=</span> <span class="n">partition</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">X_weakrel</span>

<span class="k">def</span> <span class="nf">_genRepeatedFeatures</span><span class="p">(</span><span class="n">n_repeated</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">random_state</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate repeated features by picking a random existing feature out of X</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        n_repeated : int</span>
<span class="sd">            Number of repeated features to create</span>
<span class="sd">        X : array of shape [n_samples, n_features]</span>
<span class="sd">            Contains the data of which the repeated features are picked</span>
<span class="sd">        random_state : Random State object</span>
<span class="sd">            Used to randomly pick a feature out of X</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">X_repeated</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">zeros</span><span class="p">([</span><span class="n">X</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">n_repeated</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_repeated</span><span class="p">):</span>
        <span class="n">X_repeated</span><span class="p">[:,</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[:,</span> <span class="n">random_state</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>

    <span class="k">return</span> <span class="n">X_repeated</span>

<span class="c1"># def _genCleanLabelsLupiData(problemType, n_samples, n_informative, noise, random_state, n_ordinal_bins):</span>
<span class="c1">#</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#         Generate strongly relevant problem data (X_informative) alongside one strongly relevant privileged feature (X_priv_strel),</span>
<span class="c1">#         the privileged feature consists of the clean (real) y-labels for the problem data. The actually returned</span>
<span class="c1">#         y-values (y) are noisy and differ in form based on the problemType.</span>
<span class="c1">#</span>
<span class="c1">#         Parameters</span>
<span class="c1">#         ----------</span>
<span class="c1">#         problemType : Str</span>
<span class="c1">#             Must be one of [&#39;classification&#39;, &#39;regression&#39;, &#39;ordinalRegression&#39;], defines the y-values of the problem</span>
<span class="c1">#         n_samples : int</span>
<span class="c1">#             Number of samples to be created</span>
<span class="c1">#         n_informative : int</span>
<span class="c1">#             Number of strongly relevant features to be created</span>
<span class="c1">#         noise : float</span>
<span class="c1">#             Noise of the created samples around ground truth</span>
<span class="c1">#         random_state : Random State object</span>
<span class="c1">#             Used to randomly pick a feature out of X</span>
<span class="c1">#         n_ordinal_bins : int</span>
<span class="c1">#             Number of bins in which the regressional target variable is split to form the ordinal classes,</span>
<span class="c1">#             Only has an effect if problemType == &#39;ordinalRegression&#39;</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#</span>
<span class="c1">#     w = random_state.normal(size=n_informative)</span>
<span class="c1">#     X_informative = random_state.normal(size=(n_samples, n_informative))</span>
<span class="c1">#     e = random_state.normal(size=n_samples, scale=noise)</span>
<span class="c1">#     X_priv_strel = np.dot(X_informative[:, :n_informative], w)</span>
<span class="c1">#     scores = (X_priv_strel + e)[:, np.newaxis]</span>
<span class="c1">#</span>
<span class="c1">#     if problemType == &#39;classification&#39;:</span>
<span class="c1">#         y = (scores &gt; 0).astype(int)</span>
<span class="c1">#     elif problemType == &#39;regression&#39;:</span>
<span class="c1">#         y = scores</span>
<span class="c1">#     elif problemType == &#39;ordinalRegression&#39;:</span>
<span class="c1">#         bs = np.append(np.sort(random_state.normal(size=n_ordinal_bins - 1)), np.inf)</span>
<span class="c1">#         y = np.sum(scores - bs &gt;= 0, -1)</span>
<span class="c1">#</span>
<span class="c1">#     return (X_informative, X_priv_strel[:, np.newaxis], y)</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># def _genCleanFeaturesLupiData(problemType, n_samples, n_strel, noise, random_state, n_ordinal_bins):</span>
<span class="c1">#</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#         Generate strongly relevant problem data (X_strel) alongside the same number of strongly relevant privileged</span>
<span class="c1">#         features (X_priv_strel). The privileged features are the actual clean versions of the data, while the data (X_strel)</span>
<span class="c1">#         that is corresponding to the target variable y has noise in it.</span>
<span class="c1">#</span>
<span class="c1">#         Parameters</span>
<span class="c1">#         ----------</span>
<span class="c1">#         problemType : Str</span>
<span class="c1">#             Must be one of [&#39;classification&#39;, &#39;regression&#39;, &#39;ordinalRegression&#39;], defines the y-values of the problem</span>
<span class="c1">#         n_samples : int</span>
<span class="c1">#             Number of samples to be created</span>
<span class="c1">#         n_strel : int</span>
<span class="c1">#             Number of strongly relevant features to be created</span>
<span class="c1">#         noise : float</span>
<span class="c1">#             Noise of the created samples around ground truth</span>
<span class="c1">#         random_state : Random State object</span>
<span class="c1">#             Used to randomly pick a feature out of X</span>
<span class="c1">#         n_ordinal_bins : int</span>
<span class="c1">#             Number of bins in which the regressional target variable is split to form the ordinal classes,</span>
<span class="c1">#             Only has an effect if problemType == &#39;ordinalRegression&#39;</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#</span>
<span class="c1">#     w = random_state.normal(size=n_strel)</span>
<span class="c1">#     X_priv_strel = random_state.normal(size=(n_samples, n_strel))</span>
<span class="c1">#     e = np.random.normal(size=(n_samples, n_strel), scale=noise)</span>
<span class="c1">#     X_strel = X_priv_strel + e</span>
<span class="c1">#     scores = np.dot(X_priv_strel, w)[:, np.newaxis]</span>
<span class="c1">#</span>
<span class="c1">#     if problemType == &#39;classification&#39;:</span>
<span class="c1">#         y = (scores &gt; 0).astype(int)</span>
<span class="c1">#     elif problemType == &#39;regression&#39;:</span>
<span class="c1">#         y = scores</span>
<span class="c1">#     elif problemType == &#39;ordinalRegression&#39;:</span>
<span class="c1">#         bs = np.append(np.sort(random_state.normal(size=n_ordinal_bins - 1)), np.inf)</span>
<span class="c1">#         y = np.sum(scores - bs &gt;= 0, -1)</span>
<span class="c1">#</span>
<span class="c1">#     return (X_strel, X_priv_strel, y)</span>

<span class="c1"># def genLupiData(problemName: ProblemName, lupiType: str = &quot;cleanFeatures&quot;, n_samples: int = 100, random_state: object = None, noise: float = 0.1,</span>
<span class="c1">#                 n_ordinal_bins: int = 3, n_strel: int = 1, n_weakrel: int = 0, n_repeated: int = 0, n_irrel: int = 0,</span>
<span class="c1">#                 n_priv_weakrel: int = 0, n_priv_repeated: int = 0, n_priv_irrel: int = 0, partition=None,</span>
<span class="c1">#                 partition_priv=None):</span>
<span class="c1">#</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#         Generate Lupi Data for Classification, Regression and Ordinal Regression Problems</span>
<span class="c1">#</span>
<span class="c1">#         Parameters</span>
<span class="c1">#         ----------</span>
<span class="c1">#         problemName : ProblemName</span>
<span class="c1">#             Defines the type of y-values of the problem. Example `ProblemName.CLASSIFICATION`.</span>
<span class="c1">#         lupiType : Str</span>
<span class="c1">#             Must be one of [&#39;cleanLabels&#39;, &#39;cleanFeatures&#39;], defines the strongly relevant features of the privileged data</span>
<span class="c1">#         n_samples : int, optional</span>
<span class="c1">#             Number of samples</span>
<span class="c1">#         random_state : object, optional</span>
<span class="c1">#             Randomstate object used for generation.</span>
<span class="c1">#         noise : float, optional</span>
<span class="c1">#             Noise of the created samples around ground truth.</span>
<span class="c1">#         n_ordinal_bins : int, optional</span>
<span class="c1">#             Number of bins in which the regressional target variable is split to form the ordinal classes,</span>
<span class="c1">#             Only has an effect if problemType == &#39;ordinalRegression&#39;</span>
<span class="c1">#         n_strel : int, optional</span>
<span class="c1">#             Number of features which are mandatory for the underlying model (strongly relevant)</span>
<span class="c1">#         n_weakrel : int, optional</span>
<span class="c1">#             Number of features which are part of redundant subsets (weakly relevant)</span>
<span class="c1">#         n_repeated : int, optional</span>
<span class="c1">#             Number of features which are clones of existing ones.</span>
<span class="c1">#         n_irrel : int, optional</span>
<span class="c1">#             Number of features which are irrelevant to the underlying model</span>
<span class="c1">#         n_priv_weakrel : int, optional</span>
<span class="c1">#             Number of features in the privileged data that are weakly relevant</span>
<span class="c1">#         n_priv_repeated : int, optional</span>
<span class="c1">#             Number of privileged features which are clones of existing privileged features</span>
<span class="c1">#         n_priv_irrel: int, optional</span>
<span class="c1">#             Number of privileged features which are irrelevant</span>
<span class="c1">#         partition : list of int</span>
<span class="c1">#             Entries of the list define weak subsets. So an entry of the list says how many weak features are calculated</span>
<span class="c1">#             from the same strong feature.</span>
<span class="c1">#             The sum over the list entries must be equal to n_weakrel</span>
<span class="c1">#         partition_priv : list of int</span>
<span class="c1">#             Entries of the list define privileged weak subsets. So an entry of the list says how many privileged weak</span>
<span class="c1">#             features are calculated from the same privileged strong feature.</span>
<span class="c1">#             The sum over the list entries must be equal to n_priv_weakrel</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#         Returns</span>
<span class="c1">#         -------</span>
<span class="c1">#         X : array of shape [n_samples, (n_strel + n_weakrel + n_repeated + n_irrel)]</span>
<span class="c1">#             The generated samples</span>
<span class="c1">#         X_priv :</span>
<span class="c1">#             The generated privileged samples</span>
<span class="c1">#             In case of lupiType == &#39;cleanLabels&#39; : array of shape [n_samples, (n_priv_weakrel + n_priv_repeated + n_priv_irrel + 1)]</span>
<span class="c1">#             In case of lupiType == &#39;cleanFeatures&#39; : array of shape [n_samples, (n_priv_weakrel + n_priv_repeated + n_priv_irrel + n_strel)]</span>
<span class="c1">#         y : array of shape [n_samples]</span>
<span class="c1">#             The generated target values</span>
<span class="c1">#             In case of problemType == &#39;classification&#39; : values are in [0,1]</span>
<span class="c1">#             In case of problemType == &#39;regression&#39; : values are continious</span>
<span class="c1">#             In case of problemType == &#39;ordinalRegression&#39; : values are in [0, n_ordinal_bins]</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#     &quot;&quot;&quot;</span>
<span class="c1">#</span>
<span class="c1">#     _checkLupiParam(problemName=problemName, lupiType=lupiType, n_strel=n_strel, n_weakrel=n_weakrel,</span>
<span class="c1">#                     n_priv_weakrel=n_priv_weakrel, partition=partition, partition_priv=partition_priv)</span>
<span class="c1">#     random_state = check_random_state(random_state)</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#     if lupiType == &#39;cleanLabels&#39;:</span>
<span class="c1">#</span>
<span class="c1">#         n_informative = n_strel + n_weakrel</span>
<span class="c1">#</span>
<span class="c1">#         # X_strel : array of shape [n_samples, n_strel], contains the strongly relevant data features</span>
<span class="c1">#         # X_priv_strel : array of shape [n_samples], contains the strongly relevant privileged data feature</span>
<span class="c1">#         # y : array of shape [n_samples], contains the target values to the problem</span>
<span class="c1">#         X_informative, X_priv_strel, y = _genCleanLabelsLupiData(problemType=problemName, n_samples=n_samples, n_informative=n_informative,</span>
<span class="c1">#                                                                  noise=noise, random_state=random_state, n_ordinal_bins=n_ordinal_bins)</span>
<span class="c1">#</span>
<span class="c1">#         X_priv_repeated = _genRepeatedFeatures(n_priv_repeated, X_priv_strel, random_state)</span>
<span class="c1">#         X_priv_irrel = random_state.normal(size=(n_samples, n_priv_irrel))</span>
<span class="c1">#         X_priv = np.hstack([X_priv_strel, X_priv_repeated, X_priv_irrel])</span>
<span class="c1">#</span>
<span class="c1">#     elif lupiType == &#39;cleanFeatures&#39;:</span>
<span class="c1">#</span>
<span class="c1">#         # X_strel : array of shape [n_samples, n_strel], contains the strongly relevant data features</span>
<span class="c1">#         # X_priv_strel = array of shape [n_samples, n_strel], contains the strongly relevant privileged features</span>
<span class="c1">#         # y : array of shape [n_samples], contains the target values to the problem</span>
<span class="c1">#         X_strel, X_priv_strel, y = _genCleanFeaturesLupiData(problemType=problemName, n_samples=n_samples, n_strel=n_strel,</span>
<span class="c1">#                                                              noise=noise, random_state=random_state, n_ordinal_bins=n_ordinal_bins)</span>
<span class="c1">#</span>
<span class="c1">#         X_priv_weakrel = _genWeakFeatures(n_priv_weakrel, X_priv_strel, random_state, partition_priv)</span>
<span class="c1">#         X_priv_repeated = _genRepeatedFeatures(n_priv_repeated, X_priv_strel, random_state)</span>
<span class="c1">#         X_priv_irrel = random_state.normal(size=(n_samples, n_priv_irrel))</span>
<span class="c1">#         X_priv = np.hstack([X_priv_strel, X_priv_weakrel, X_priv_repeated, X_priv_irrel])</span>
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1">#     X_strel = X_informative[:, :n_strel]</span>
<span class="c1">#     X_weakrel = _genWeakFeatures(n_weakrel, X_informative[:, n_strel:], random_state, partition)</span>
<span class="c1">#     X_repeated = _genRepeatedFeatures(n_repeated, X_strel, random_state)</span>
<span class="c1">#     X_irrel = random_state.normal(size=(n_samples, n_irrel))</span>
<span class="c1">#     X = np.hstack([X_strel, X_weakrel, X_repeated, X_irrel])</span>
<span class="c1">#</span>
<span class="c1">#     return X, X_priv, y</span>

<span class="k">def</span> <span class="nf">genLupiData</span><span class="p">(</span>
    <span class="n">problemName</span><span class="p">:</span> <span class="n">ProblemName</span><span class="p">,</span>
    <span class="n">n_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">random_state</span><span class="p">:</span> <span class="nb">object</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">noise</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">n_ordinal_bins</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">n_strel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">n_weakrel_groups</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">n_repeated</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">n_irrel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">label_noise</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Generate Lupi Data for Classification, Regression and Ordinal Regression Problems</span>

<span class="sd">            Parameters</span>
<span class="sd">            ----------</span>
<span class="sd">            problemName : ProblemName</span>
<span class="sd">                Defines the type of y-values of the problem. Example `ProblemName.CLASSIFICATION`.</span>
<span class="sd">            n_samples : int, optional</span>
<span class="sd">                Number of samples</span>
<span class="sd">            random_state : object, optional</span>
<span class="sd">                Randomstate object used for generation.</span>
<span class="sd">            noise : float, optional</span>
<span class="sd">                Noise of the created samples around ground truth.</span>
<span class="sd">            n_ordinal_bins : int, optional</span>
<span class="sd">                Number of bins in which the regressional target variable is split to form the ordinal classes,</span>
<span class="sd">                Only has an effect if problemType == &#39;ordinalRegression&#39;</span>
<span class="sd">            n_strel : int, optional</span>
<span class="sd">                Number of features which are mandatory for the underlying model (strongly relevant)</span>
<span class="sd">            n_weakrel_groups : int, optional</span>
<span class="sd">                Number of 2 feature groups which are part of redundant subsets (weakly relevant)</span>
<span class="sd">            n_repeated : int, optional</span>
<span class="sd">                Number of features which are clones of existing ones.</span>
<span class="sd">            n_irrel : int, optional</span>
<span class="sd">                Number of features which are irrelevant to the underlying model</span>
<span class="sd">            label_noise: float, optional</span>
<span class="sd">                Percentage of labels which get permutated.</span>

<span class="sd">            Returns</span>
<span class="sd">            -------</span>
<span class="sd">            X : array of shape [n_samples, (n_strel + n_weakrel + n_repeated + n_irrel)]</span>
<span class="sd">                The generated samples</span>
<span class="sd">            X_priv : array with same shape as X</span>
<span class="sd">                The generated privileged samples</span>
<span class="sd">            y : array of shape [n_samples]</span>
<span class="sd">                The generated target values</span>
<span class="sd">                In case of problemType == &#39;classification&#39; : values are in [0,1]</span>
<span class="sd">                In case of problemType == &#39;regression&#39; : values are continious</span>
<span class="sd">                In case of problemType == &#39;ordinalRegression&#39; : values are in [0, n_ordinal_bins]</span>

<span class="sd">        &quot;&quot;&quot;</span>

    <span class="n">random_state</span> <span class="o">=</span> <span class="n">check_random_state</span><span class="p">(</span><span class="n">random_state</span><span class="p">)</span>

    <span class="n">n_informative</span> <span class="o">=</span> <span class="n">n_strel</span> <span class="o">+</span> <span class="n">n_weakrel_groups</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">random_state</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="kp">size</span><span class="o">=</span><span class="n">n_informative</span><span class="p">)</span>
    <span class="n">X_informative</span> <span class="o">=</span> <span class="n">random_state</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="kp">size</span><span class="o">=</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_informative</span><span class="p">))</span>
    <span class="n">X_priv_strel</span> <span class="o">=</span> <span class="n">X_informative</span><span class="p">[:,</span> <span class="p">:</span><span class="n">n_strel</span><span class="p">]</span>

    <span class="n">X_priv_weakrel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">zeros</span><span class="p">([</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_weakrel_groups</span> <span class="o">*</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">idx</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_weakrel_groups</span><span class="p">):</span>
        <span class="n">X_priv_weakrel</span><span class="p">[:,</span> <span class="n">idx</span> <span class="p">:</span> <span class="n">idx</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">tile</span><span class="p">(</span>
            <span class="n">X_informative</span><span class="p">[:,</span> <span class="n">n_strel</span> <span class="o">+</span> <span class="n">i</span><span class="p">],</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">T</span> <span class="o">+</span> <span class="n">random_state</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span>
            <span class="n">loc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="kp">std</span><span class="p">(</span><span class="n">X_informative</span><span class="p">[:,</span> <span class="n">n_strel</span> <span class="o">+</span> <span class="n">i</span><span class="p">]),</span> <span class="kp">size</span><span class="o">=</span><span class="mi">2</span>
        <span class="p">)</span>
        <span class="n">idx</span> <span class="o">+=</span> <span class="mi">2</span>

    <span class="n">X_priv_repeated</span> <span class="o">=</span> <span class="n">_genRepeatedFeatures</span><span class="p">(</span>
        <span class="n">n_repeated</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="kp">hstack</span><span class="p">([</span><span class="n">X_priv_strel</span><span class="p">,</span> <span class="n">X_priv_weakrel</span><span class="p">]),</span> <span class="n">random_state</span>
    <span class="p">)</span>

    <span class="n">X_priv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">hstack</span><span class="p">([</span><span class="n">X_priv_strel</span><span class="p">,</span> <span class="n">X_priv_weakrel</span><span class="p">,</span> <span class="n">X_priv_repeated</span><span class="p">])</span>

    <span class="n">e</span> <span class="o">=</span> <span class="n">random_state</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span>
        <span class="kp">size</span><span class="o">=</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">X_priv</span><span class="o">.</span><span class="kp">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">scale</span><span class="o">=</span><span class="n">noise</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="kp">std</span><span class="p">(</span><span class="n">X_priv</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">X_priv</span> <span class="o">+</span> <span class="n">e</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">dot</span><span class="p">(</span><span class="n">X_informative</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="n">problemName</span> <span class="o">==</span> <span class="s2">&quot;classification&quot;</span>
        <span class="ow">or</span> <span class="n">problemName</span> <span class="o">==</span> <span class="n">ProblemName</span><span class="o">.</span><span class="n">LUPI_CLASSIFICATION</span>
    <span class="p">):</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">scores</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="k">elif</span> <span class="n">problemName</span> <span class="o">==</span> <span class="s2">&quot;regression&quot;</span> <span class="ow">or</span> <span class="n">problemName</span> <span class="o">==</span> <span class="n">ProblemName</span><span class="o">.</span><span class="n">LUPI_REGRESSION</span><span class="p">:</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">scores</span>
    <span class="k">elif</span> <span class="p">(</span>
        <span class="n">problemName</span> <span class="o">==</span> <span class="s2">&quot;ordinalRegression&quot;</span>
        <span class="ow">or</span> <span class="n">problemName</span> <span class="o">==</span> <span class="n">ProblemName</span><span class="o">.</span><span class="n">LUPI_ORDREGRESSION</span>
    <span class="p">):</span>
        <span class="n">step</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="n">n_ordinal_bins</span><span class="p">)</span>
        <span class="n">quantiles</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="n">step</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_ordinal_bins</span><span class="p">)]</span>
        <span class="n">bs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">scores</span><span class="p">,</span> <span class="n">quantiles</span><span class="p">)</span>
        <span class="n">bs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">append</span><span class="p">(</span><span class="n">bs</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="kp">inf</span><span class="p">)</span>
        <span class="n">scores</span> <span class="o">=</span> <span class="n">scores</span><span class="p">[:,</span> <span class="n">np</span><span class="o">.</span><span class="kp">newaxis</span><span class="p">]</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">sum</span><span class="p">(</span><span class="n">scores</span> <span class="o">-</span> <span class="n">bs</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">n_irrel</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">hstack</span><span class="p">([</span><span class="n">X</span><span class="p">,</span> <span class="n">random_state</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="kp">size</span><span class="o">=</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_irrel</span><span class="p">))])</span>
        <span class="n">X_priv</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">hstack</span><span class="p">([</span><span class="n">X_priv</span><span class="p">,</span> <span class="n">random_state</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="kp">size</span><span class="o">=</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_irrel</span><span class="p">))])</span>

    <span class="k">if</span> <span class="n">label_noise</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="kp">sample</span> <span class="o">=</span> <span class="n">random_state</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="n">label_noise</span><span class="p">))</span>
        <span class="n">y</span><span class="p">[</span><span class="kp">sample</span><span class="p">]</span> <span class="o">=</span> <span class="n">random_state</span><span class="o">.</span><span class="kp">permutation</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="kp">sample</span><span class="p">])</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">X_priv</span><span class="p">,</span> <span class="n">y</span><span class="o">.</span><span class="kp">squeeze</span><span class="p">())</span>

<span class="c1">#######################################################################################################################</span>
<span class="c1">#                                                                                                                     #</span>
<span class="c1">#                                                    New Regression                                                   #</span>
<span class="c1">#                                                                                                                     #</span>
<span class="c1">#######################################################################################################################</span>

<span class="k">def</span> <span class="nf">_checkParam2</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_strel</span><span class="p">,</span> <span class="n">n_weakrel</span><span class="p">,</span> <span class="n">flip_y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">partition</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">n_samples</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;We need at least 2 samples.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">flip_y</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Flip percentage has to be between 0 and 1.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n_strel</span> <span class="o">+</span> <span class="n">n_weakrel</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No informative features.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n_strel</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">n_weakrel</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;If we have no strong features, we need more than 1 weak feature.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">partition</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">sum</span><span class="p">(</span><span class="n">partition</span><span class="p">)</span> <span class="o">!=</span> <span class="n">n_weakrel</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Sum of partition values should yield number of redundant features.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="ow">in</span> <span class="n">partition</span> <span class="ow">or</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">partition</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Subset defined in Partition needs at least 2 features. 0 and 1 is not allowed.&quot;</span>
            <span class="p">)</span>

<span class="k">def</span> <span class="nf">genRegressionData2</span><span class="p">(</span>
    <span class="n">n_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">random_state</span><span class="p">:</span> <span class="nb">object</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">noise</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">n_strel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">n_weakrel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">n_repeated</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">n_irrel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">partition</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">object</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Generate synthetic regression data</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    n_samples : int, optional</span>
<span class="sd">        Number of samples</span>
<span class="sd">    random_state : object, optional</span>
<span class="sd">        Randomstate object used for generation</span>
<span class="sd">    noise : float, optional</span>
<span class="sd">        Noise of the created samples around ground truth</span>
<span class="sd">    n_strel : int, optional</span>
<span class="sd">        Number of features which are mandatory for the underlying model (strongly relevant)</span>
<span class="sd">    n_weakrel : int, optional</span>
<span class="sd">        Number of weakly relevant features</span>
<span class="sd">    n_repeated : int, optional</span>
<span class="sd">        Number of features which are clones of existing ones.</span>
<span class="sd">    n_irrel : int, optional</span>
<span class="sd">        Number of features that are irrelevant</span>
<span class="sd">    partition: list of int</span>
<span class="sd">        Entries of the list define how many weak relevant features are based on the same strongly relevant feature</span>
<span class="sd">        The sum over all list entries must be equal to n_weakrel</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    X : array of shape [n_samples, (n_strel + n_weakrel + n_repeated + n_irrel]</span>
<span class="sd">        The generated samples.</span>
<span class="sd">    y : array of shape [n_samples]</span>
<span class="sd">        The output values (target).</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">    Wrong parameters for specified amonut of features/samples.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_checkParam2</span><span class="p">(</span>
        <span class="n">n_samples</span><span class="o">=</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_strel</span><span class="o">=</span><span class="n">n_strel</span><span class="p">,</span> <span class="n">n_weakrel</span><span class="o">=</span><span class="n">n_weakrel</span><span class="p">,</span> <span class="n">partition</span><span class="o">=</span><span class="n">partition</span>
    <span class="p">)</span>
    <span class="n">random_state</span> <span class="o">=</span> <span class="n">check_random_state</span><span class="p">(</span><span class="n">random_state</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">partition</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">n_informative</span> <span class="o">=</span> <span class="n">n_strel</span> <span class="o">+</span> <span class="n">n_weakrel</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">n_informative</span> <span class="o">=</span> <span class="n">n_strel</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="p">)</span>

    <span class="n">X_informative</span> <span class="o">=</span> <span class="n">random_state</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_informative</span><span class="p">)</span>
    <span class="n">ground_truth</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">zeros</span><span class="p">((</span><span class="n">n_informative</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">ground_truth</span><span class="p">[:</span><span class="n">n_informative</span><span class="p">,</span> <span class="p">:]</span> <span class="o">=</span> <span class="mf">0.3</span>
    <span class="n">bias</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">dot</span><span class="p">(</span><span class="n">X_informative</span><span class="p">,</span> <span class="n">ground_truth</span><span class="p">)</span> <span class="o">+</span> <span class="n">bias</span>

    <span class="k">if</span> <span class="n">noise</span> <span class="o">&gt;</span> <span class="mf">0.0</span><span class="p">:</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="n">random_state</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="n">noise</span><span class="p">,</span> <span class="kp">size</span><span class="o">=</span><span class="n">y</span><span class="o">.</span><span class="kp">shape</span><span class="p">)</span>

    <span class="n">X_strel</span> <span class="o">=</span> <span class="n">X_informative</span><span class="p">[:,</span> <span class="p">:</span><span class="n">n_strel</span><span class="p">]</span>
    <span class="n">X_weakrel</span> <span class="o">=</span> <span class="n">_genWeakFeatures</span><span class="p">(</span>
        <span class="n">n_weakrel</span><span class="p">,</span> <span class="n">X_informative</span><span class="p">[:,</span> <span class="n">n_strel</span><span class="p">:],</span> <span class="n">random_state</span><span class="p">,</span> <span class="n">partition</span>
    <span class="p">)</span>
    <span class="n">X_repeated</span> <span class="o">=</span> <span class="n">_genRepeatedFeatures</span><span class="p">(</span>
        <span class="n">n_repeated</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="kp">hstack</span><span class="p">([</span><span class="n">X_strel</span><span class="p">,</span> <span class="n">X_weakrel</span><span class="p">]),</span> <span class="n">random_state</span>
    <span class="p">)</span>
    <span class="n">X_irrel</span> <span class="o">=</span> <span class="n">random_state</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="kp">size</span><span class="o">=</span><span class="p">(</span><span class="n">n_samples</span><span class="p">,</span> <span class="n">n_irrel</span><span class="p">))</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">hstack</span><span class="p">([</span><span class="n">X_strel</span><span class="p">,</span> <span class="n">X_weakrel</span><span class="p">,</span> <span class="n">X_repeated</span><span class="p">,</span> <span class="n">X_irrel</span><span class="p">])</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="kp">squeeze</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span>
</pre></div>


</details>
<h2 id="functions">Functions</h2>
<h5 id="genlupidata">genLupiData</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="err">(</span>
    <span class="n">problemName</span><span class="p">:</span> <span class="n">fri</span><span class="o">.</span><span class="n">ProblemName</span><span class="p">,</span>
    <span class="n">n_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">random_state</span><span class="p">:</span> <span class="nb">object</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">noise</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">n_ordinal_bins</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">n_strel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">n_weakrel_groups</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">n_repeated</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">n_irrel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">label_noise</span><span class="o">=</span><span class="mf">0.0</span>
<span class="p">)</span>
</pre></div>


<p>Generate Lupi Data for Classification, Regression and Ordinal Regression Problems</p>
<h2 id="parameters">Parameters</h2>
<p>problemName : ProblemName
    Defines the type of y-values of the problem. Example <code>ProblemName.CLASSIFICATION</code>.
n_samples : int, optional
    Number of samples
random_state : object, optional
    Randomstate object used for generation.
noise : float, optional
    Noise of the created samples around ground truth.
n_ordinal_bins : int, optional
    Number of bins in which the regressional target variable is split to form the ordinal classes,
    Only has an effect if problemType == 'ordinalRegression'
n_strel : int, optional
    Number of features which are mandatory for the underlying model (strongly relevant)
n_weakrel_groups : int, optional
    Number of 2 feature groups which are part of redundant subsets (weakly relevant)
n_repeated : int, optional
    Number of features which are clones of existing ones.
n_irrel : int, optional
    Number of features which are irrelevant to the underlying model
label_noise: float, optional
    Percentage of labels which get permutated.</p>
<h2 id="returns">Returns</h2>
<p>X : array of shape [n_samples, (n_strel + n_weakrel + n_repeated + n_irrel)]
    The generated samples
X_priv : array with same shape as X
    The generated privileged samples
y : array of shape [n_samples]
    The generated target values
    In case of problemType == 'classification' : values are in [0,1]
    In case of problemType == 'regression' : values are continious
    In case of problemType == 'ordinalRegression' : values are in [0, n_ordinal_bins]</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><span class="nv">def</span> <span class="nv">genLupiData</span><span class="ss">(</span>
    <span class="nv">problemName</span>: <span class="nv">ProblemName</span>,
    <span class="nv">n_samples</span>: <span class="nv">int</span> <span class="o">=</span> <span class="mi">100</span>,
    <span class="nv">random_state</span>: <span class="nv">object</span> <span class="o">=</span> <span class="nv">None</span>,
    <span class="nv">noise</span>: <span class="nv">float</span> <span class="o">=</span> <span class="mi">0</span>.<span class="mi">1</span>,
    <span class="nv">n_ordinal_bins</span>: <span class="nv">int</span> <span class="o">=</span> <span class="mi">3</span>,
    <span class="nv">n_strel</span>: <span class="nv">int</span> <span class="o">=</span> <span class="mi">1</span>,
    <span class="nv">n_weakrel_groups</span>: <span class="nv">int</span> <span class="o">=</span> <span class="mi">0</span>,
    <span class="nv">n_repeated</span>: <span class="nv">int</span> <span class="o">=</span> <span class="mi">0</span>,
    <span class="nv">n_irrel</span>: <span class="nv">int</span> <span class="o">=</span> <span class="mi">0</span>,
    <span class="nv">label_noise</span><span class="o">=</span><span class="mi">0</span>.<span class="mi">0</span>,
<span class="ss">)</span>:
    <span class="s2">&quot;&quot;&quot;</span>
            <span class="nv">Generate</span> <span class="nv">Lupi</span> <span class="nv">Data</span> <span class="k">for</span> <span class="nv">Classification</span>, <span class="nv">Regression</span> <span class="nv">and</span> <span class="nv">Ordinal</span> <span class="nv">Regression</span> <span class="nv">Problems</span>

            <span class="nv">Parameters</span>
            <span class="o">----------</span>
            <span class="nv">problemName</span> : <span class="nv">ProblemName</span>
                <span class="nv">Defines</span> <span class="nv">the</span> <span class="nv">type</span> <span class="nv">of</span> <span class="nv">y</span><span class="o">-</span><span class="nv">values</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">problem</span>. <span class="nv">Example</span> `<span class="nv">ProblemName</span>.<span class="nv">CLASSIFICATION</span>`.
            <span class="nv">n_samples</span> : <span class="nv">int</span>, <span class="nv">optional</span>
                <span class="nv">Number</span> <span class="nv">of</span> <span class="nv">samples</span>
            <span class="nv">random_state</span> : <span class="nv">object</span>, <span class="nv">optional</span>
                <span class="nv">Randomstate</span> <span class="nv">object</span> <span class="nv">used</span> <span class="k">for</span> <span class="nv">generation</span>.
            <span class="nv">noise</span> : <span class="nv">float</span>, <span class="nv">optional</span>
                <span class="nv">Noise</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">created</span> <span class="nv">samples</span> <span class="nv">around</span> <span class="nv">ground</span> <span class="nv">truth</span>.
            <span class="nv">n_ordinal_bins</span> : <span class="nv">int</span>, <span class="nv">optional</span>
                <span class="nv">Number</span> <span class="nv">of</span> <span class="nv">bins</span> <span class="nv">in</span> <span class="nv">which</span> <span class="nv">the</span> <span class="nv">regressional</span> <span class="nv">target</span> <span class="nv">variable</span> <span class="nv">is</span> <span class="nv">split</span> <span class="nv">to</span> <span class="nv">form</span> <span class="nv">the</span> <span class="nv">ordinal</span> <span class="nv">classes</span>,
                <span class="nv">Only</span> <span class="nv">has</span> <span class="nv">an</span> <span class="nv">effect</span> <span class="k">if</span> <span class="nv">problemType</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="s">ordinalRegression</span><span class="s1">&#39;</span>
            <span class="nv">n_strel</span> : <span class="nv">int</span>, <span class="nv">optional</span>
                <span class="nv">Number</span> <span class="nv">of</span> <span class="nv">features</span> <span class="nv">which</span> <span class="nv">are</span> <span class="nv">mandatory</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">underlying</span> <span class="nv">model</span> <span class="ss">(</span><span class="nv">strongly</span> <span class="nv">relevant</span><span class="ss">)</span>
            <span class="nv">n_weakrel_groups</span> : <span class="nv">int</span>, <span class="nv">optional</span>
                <span class="nv">Number</span> <span class="nv">of</span> <span class="mi">2</span> <span class="nv">feature</span> <span class="nv">groups</span> <span class="nv">which</span> <span class="nv">are</span> <span class="nv">part</span> <span class="nv">of</span> <span class="nv">redundant</span> <span class="nv">subsets</span> <span class="ss">(</span><span class="nv">weakly</span> <span class="nv">relevant</span><span class="ss">)</span>
            <span class="nv">n_repeated</span> : <span class="nv">int</span>, <span class="nv">optional</span>
                <span class="nv">Number</span> <span class="nv">of</span> <span class="nv">features</span> <span class="nv">which</span> <span class="nv">are</span> <span class="nv">clones</span> <span class="nv">of</span> <span class="nv">existing</span> <span class="nv">ones</span>.
            <span class="nv">n_irrel</span> : <span class="nv">int</span>, <span class="nv">optional</span>
                <span class="nv">Number</span> <span class="nv">of</span> <span class="nv">features</span> <span class="nv">which</span> <span class="nv">are</span> <span class="nv">irrelevant</span> <span class="nv">to</span> <span class="nv">the</span> <span class="nv">underlying</span> <span class="nv">model</span>
            <span class="nv">label_noise</span>: <span class="nv">float</span>, <span class="nv">optional</span>
                <span class="nv">Percentage</span> <span class="nv">of</span> <span class="nv">labels</span> <span class="nv">which</span> <span class="nv">get</span> <span class="nv">permutated</span>.

            <span class="nv">Returns</span>
            <span class="o">-------</span>
            <span class="nv">X</span> : <span class="nv">array</span> <span class="nv">of</span> <span class="nv">shape</span> [<span class="nv">n_samples</span>, <span class="ss">(</span><span class="nv">n_strel</span> <span class="o">+</span> <span class="nv">n_weakrel</span> <span class="o">+</span> <span class="nv">n_repeated</span> <span class="o">+</span> <span class="nv">n_irrel</span><span class="ss">)</span>]
                <span class="nv">The</span> <span class="nv">generated</span> <span class="nv">samples</span>
            <span class="nv">X_priv</span> : <span class="nv">array</span> <span class="nv">with</span> <span class="nv">same</span> <span class="nv">shape</span> <span class="nv">as</span> <span class="nv">X</span>
                <span class="nv">The</span> <span class="nv">generated</span> <span class="nv">privileged</span> <span class="nv">samples</span>
            <span class="nv">y</span> : <span class="nv">array</span> <span class="nv">of</span> <span class="nv">shape</span> [<span class="nv">n_samples</span>]
                <span class="nv">The</span> <span class="nv">generated</span> <span class="nv">target</span> <span class="nv">values</span>
                <span class="nv">In</span> <span class="nv">case</span> <span class="nv">of</span> <span class="nv">problemType</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="s">classification</span><span class="s1">&#39;</span> : <span class="nv">values</span> <span class="nv">are</span> <span class="nv">in</span> [<span class="mi">0</span>,<span class="mi">1</span>]
                <span class="nv">In</span> <span class="nv">case</span> <span class="nv">of</span> <span class="nv">problemType</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="s">regression</span><span class="s1">&#39;</span> : <span class="nv">values</span> <span class="nv">are</span> <span class="nv">continious</span>
                <span class="nv">In</span> <span class="nv">case</span> <span class="nv">of</span> <span class="nv">problemType</span> <span class="o">==</span> <span class="s1">&#39;</span><span class="s">ordinalRegression</span><span class="s1">&#39;</span> : <span class="nv">values</span> <span class="nv">are</span> <span class="nv">in</span> [<span class="mi">0</span>, <span class="nv">n_ordinal_bins</span>]

        <span class="s2">&quot;&quot;&quot;</span>

    <span class="nv">random_state</span> <span class="o">=</span> <span class="nv">check_random_state</span><span class="ss">(</span><span class="nv">random_state</span><span class="ss">)</span>

    <span class="nv">n_informative</span> <span class="o">=</span> <span class="nv">n_strel</span> <span class="o">+</span> <span class="nv">n_weakrel_groups</span>
    <span class="nv">w</span> <span class="o">=</span> <span class="nv">random_state</span>.<span class="nv">normal</span><span class="ss">(</span><span class="nv">size</span><span class="o">=</span><span class="nv">n_informative</span><span class="ss">)</span>
    <span class="nv">X_informative</span> <span class="o">=</span> <span class="nv">random_state</span>.<span class="nv">normal</span><span class="ss">(</span><span class="nv">size</span><span class="o">=</span><span class="ss">(</span><span class="nv">n_samples</span>, <span class="nv">n_informative</span><span class="ss">))</span>
    <span class="nv">X_priv_strel</span> <span class="o">=</span> <span class="nv">X_informative</span>[:, :<span class="nv">n_strel</span>]

    <span class="nv">X_priv_weakrel</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">zeros</span><span class="ss">(</span>[<span class="nv">n_samples</span>, <span class="nv">n_weakrel_groups</span> <span class="o">*</span> <span class="mi">2</span>]<span class="ss">)</span>
    <span class="nv">idx</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="nv">i</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="nv">n_weakrel_groups</span><span class="ss">)</span>:
        <span class="nv">X_priv_weakrel</span>[:, <span class="nv">idx</span> : <span class="nv">idx</span> <span class="o">+</span> <span class="mi">2</span>] <span class="o">=</span> <span class="nv">np</span>.<span class="nv">tile</span><span class="ss">(</span>
            <span class="nv">X_informative</span>[:, <span class="nv">n_strel</span> <span class="o">+</span> <span class="nv">i</span>], <span class="ss">(</span><span class="mi">2</span>, <span class="mi">1</span><span class="ss">)</span>
        <span class="ss">)</span>.<span class="nv">T</span> <span class="o">+</span> <span class="nv">random_state</span>.<span class="nv">normal</span><span class="ss">(</span>
            <span class="nv">loc</span><span class="o">=</span><span class="mi">0</span>, <span class="nv">scale</span><span class="o">=</span><span class="nv">np</span>.<span class="nv">std</span><span class="ss">(</span><span class="nv">X_informative</span>[:, <span class="nv">n_strel</span> <span class="o">+</span> <span class="nv">i</span>]<span class="ss">)</span>, <span class="nv">size</span><span class="o">=</span><span class="mi">2</span>
        <span class="ss">)</span>
        <span class="nv">idx</span> <span class="o">+=</span> <span class="mi">2</span>

    <span class="nv">X_priv_repeated</span> <span class="o">=</span> <span class="nv">_genRepeatedFeatures</span><span class="ss">(</span>
        <span class="nv">n_repeated</span>, <span class="nv">np</span>.<span class="nv">hstack</span><span class="ss">(</span>[<span class="nv">X_priv_strel</span>, <span class="nv">X_priv_weakrel</span>]<span class="ss">)</span>, <span class="nv">random_state</span>
    <span class="ss">)</span>

    <span class="nv">X_priv</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">hstack</span><span class="ss">(</span>[<span class="nv">X_priv_strel</span>, <span class="nv">X_priv_weakrel</span>, <span class="nv">X_priv_repeated</span>]<span class="ss">)</span>

    <span class="nv">e</span> <span class="o">=</span> <span class="nv">random_state</span>.<span class="nv">normal</span><span class="ss">(</span>
        <span class="nv">size</span><span class="o">=</span><span class="ss">(</span><span class="nv">n_samples</span>, <span class="nv">X_priv</span>.<span class="nv">shape</span>[<span class="mi">1</span>]<span class="ss">)</span>, <span class="nv">scale</span><span class="o">=</span><span class="nv">noise</span> <span class="o">*</span> <span class="nv">np</span>.<span class="nv">std</span><span class="ss">(</span><span class="nv">X_priv</span><span class="ss">)</span>
    <span class="ss">)</span>
    <span class="nv">X</span> <span class="o">=</span> <span class="nv">X_priv</span> <span class="o">+</span> <span class="nv">e</span>
    <span class="nv">scores</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">dot</span><span class="ss">(</span><span class="nv">X_informative</span>, <span class="nv">w</span><span class="ss">)</span>

    <span class="k">if</span> <span class="ss">(</span>
        <span class="nv">problemName</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">classification</span><span class="s2">&quot;</span>
        <span class="nv">or</span> <span class="nv">problemName</span> <span class="o">==</span> <span class="nv">ProblemName</span>.<span class="nv">LUPI_CLASSIFICATION</span>
    <span class="ss">)</span>:
        <span class="nv">y</span> <span class="o">=</span> <span class="nv">scores</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="nv">elif</span> <span class="nv">problemName</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">regression</span><span class="s2">&quot;</span> <span class="nv">or</span> <span class="nv">problemName</span> <span class="o">==</span> <span class="nv">ProblemName</span>.<span class="nv">LUPI_REGRESSION</span>:
        <span class="nv">y</span> <span class="o">=</span> <span class="nv">scores</span>
    <span class="nv">elif</span> <span class="ss">(</span>
        <span class="nv">problemName</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="s">ordinalRegression</span><span class="s2">&quot;</span>
        <span class="nv">or</span> <span class="nv">problemName</span> <span class="o">==</span> <span class="nv">ProblemName</span>.<span class="nv">LUPI_ORDREGRESSION</span>
    <span class="ss">)</span>:
        <span class="nv">step</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="ss">(</span><span class="nv">n_ordinal_bins</span><span class="ss">)</span>
        <span class="nv">quantiles</span> <span class="o">=</span> [<span class="nv">i</span> <span class="o">*</span> <span class="nv">step</span> <span class="k">for</span> <span class="nv">i</span> <span class="nv">in</span> <span class="nv">range</span><span class="ss">(</span><span class="mi">1</span>, <span class="nv">n_ordinal_bins</span><span class="ss">)</span>]
        <span class="nv">bs</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">quantile</span><span class="ss">(</span><span class="nv">scores</span>, <span class="nv">quantiles</span><span class="ss">)</span>
        <span class="nv">bs</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">append</span><span class="ss">(</span><span class="nv">bs</span>, <span class="nv">np</span>.<span class="nv">inf</span><span class="ss">)</span>
        <span class="nv">scores</span> <span class="o">=</span> <span class="nv">scores</span>[:, <span class="nv">np</span>.<span class="nv">newaxis</span>]
        <span class="nv">y</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">sum</span><span class="ss">(</span><span class="nv">scores</span> <span class="o">-</span> <span class="nv">bs</span> <span class="o">&gt;=</span> <span class="mi">0</span>, <span class="o">-</span><span class="mi">1</span><span class="ss">)</span>

    <span class="k">if</span> <span class="nv">n_irrel</span> <span class="o">&gt;</span> <span class="mi">0</span>:
        <span class="nv">X</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">hstack</span><span class="ss">(</span>[<span class="nv">X</span>, <span class="nv">random_state</span>.<span class="nv">normal</span><span class="ss">(</span><span class="nv">size</span><span class="o">=</span><span class="ss">(</span><span class="nv">n_samples</span>, <span class="nv">n_irrel</span><span class="ss">))</span>]<span class="ss">)</span>
        <span class="nv">X_priv</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">hstack</span><span class="ss">(</span>[<span class="nv">X_priv</span>, <span class="nv">random_state</span>.<span class="nv">normal</span><span class="ss">(</span><span class="nv">size</span><span class="o">=</span><span class="ss">(</span><span class="nv">n_samples</span>, <span class="nv">n_irrel</span><span class="ss">))</span>]<span class="ss">)</span>

    <span class="k">if</span> <span class="nv">label_noise</span> <span class="o">&gt;</span> <span class="mi">0</span>:
        <span class="nv">sample</span> <span class="o">=</span> <span class="nv">random_state</span>.<span class="nv">choice</span><span class="ss">(</span><span class="nv">len</span><span class="ss">(</span><span class="nv">y</span><span class="ss">)</span>, <span class="nv">int</span><span class="ss">(</span><span class="nv">len</span><span class="ss">(</span><span class="nv">y</span><span class="ss">)</span> <span class="o">*</span> <span class="nv">label_noise</span><span class="ss">))</span>
        <span class="nv">y</span>[<span class="nv">sample</span>] <span class="o">=</span> <span class="nv">random_state</span>.<span class="nv">permutation</span><span class="ss">(</span><span class="nv">y</span>[<span class="nv">sample</span>]<span class="ss">)</span>

    <span class="k">return</span> <span class="ss">(</span><span class="nv">X</span>, <span class="nv">X_priv</span>, <span class="nv">y</span>.<span class="nv">squeeze</span><span class="ss">())</span>
</pre></div>


</details>
<h5 id="genregressiondata2">genRegressionData2</h5>
<div class="codehilite"><pre><span></span><span class="k">def</span> <span class="err">(</span>
    <span class="n">n_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">random_state</span><span class="p">:</span> <span class="nb">object</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">noise</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">n_strel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">n_weakrel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">n_repeated</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">n_irrel</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">partition</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">object</span>
</pre></div>


<p>Generate synthetic regression data</p>
<h2 id="parameters_1">Parameters</h2>
<p>n_samples : int, optional
    Number of samples
random_state : object, optional
    Randomstate object used for generation
noise : float, optional
    Noise of the created samples around ground truth
n_strel : int, optional
    Number of features which are mandatory for the underlying model (strongly relevant)
n_weakrel : int, optional
    Number of weakly relevant features
n_repeated : int, optional
    Number of features which are clones of existing ones.
n_irrel : int, optional
    Number of features that are irrelevant
partition: list of int
    Entries of the list define how many weak relevant features are based on the same strongly relevant feature
    The sum over all list entries must be equal to n_weakrel</p>
<h2 id="returns_1">Returns</h2>
<p>X : array of shape [n_samples, (n_strel + n_weakrel + n_repeated + n_irrel]
    The generated samples.
y : array of shape [n_samples]
    The output values (target).</p>
<h2 id="raises">Raises</h2>
<p>ValueError
Wrong parameters for specified amonut of features/samples.</p>
<details class="example"><summary>View Source</summary><div class="codehilite"><pre><span></span><span class="nv">def</span> <span class="nv">genRegressionData2</span><span class="ss">(</span>
    <span class="nv">n_samples</span>: <span class="nv">int</span> <span class="o">=</span> <span class="mi">100</span>,
    <span class="nv">random_state</span>: <span class="nv">object</span> <span class="o">=</span> <span class="nv">None</span>,
    <span class="nv">noise</span>: <span class="nv">float</span> <span class="o">=</span> <span class="mi">0</span>.<span class="mi">0</span>,
    <span class="nv">n_strel</span>: <span class="nv">int</span> <span class="o">=</span> <span class="mi">1</span>,
    <span class="nv">n_weakrel</span>: <span class="nv">int</span> <span class="o">=</span> <span class="mi">0</span>,
    <span class="nv">n_repeated</span>: <span class="nv">int</span> <span class="o">=</span> <span class="mi">0</span>,
    <span class="nv">n_irrel</span>: <span class="nv">int</span> <span class="o">=</span> <span class="mi">0</span>,
    <span class="nv">partition</span><span class="o">=</span><span class="nv">None</span>,
<span class="ss">)</span> <span class="o">-&gt;</span> <span class="nv">object</span>:
    <span class="s2">&quot;&quot;&quot;</span><span class="s">Generate synthetic regression data</span>

    <span class="nv">Parameters</span>
    <span class="o">----------</span>
    <span class="nv">n_samples</span> : <span class="nv">int</span>, <span class="nv">optional</span>
        <span class="nv">Number</span> <span class="nv">of</span> <span class="nv">samples</span>
    <span class="nv">random_state</span> : <span class="nv">object</span>, <span class="nv">optional</span>
        <span class="nv">Randomstate</span> <span class="nv">object</span> <span class="nv">used</span> <span class="k">for</span> <span class="nv">generation</span>
    <span class="nv">noise</span> : <span class="nv">float</span>, <span class="nv">optional</span>
        <span class="nv">Noise</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">created</span> <span class="nv">samples</span> <span class="nv">around</span> <span class="nv">ground</span> <span class="nv">truth</span>
    <span class="nv">n_strel</span> : <span class="nv">int</span>, <span class="nv">optional</span>
        <span class="nv">Number</span> <span class="nv">of</span> <span class="nv">features</span> <span class="nv">which</span> <span class="nv">are</span> <span class="nv">mandatory</span> <span class="k">for</span> <span class="nv">the</span> <span class="nv">underlying</span> <span class="nv">model</span> <span class="ss">(</span><span class="nv">strongly</span> <span class="nv">relevant</span><span class="ss">)</span>
    <span class="nv">n_weakrel</span> : <span class="nv">int</span>, <span class="nv">optional</span>
        <span class="nv">Number</span> <span class="nv">of</span> <span class="nv">weakly</span> <span class="nv">relevant</span> <span class="nv">features</span>
    <span class="nv">n_repeated</span> : <span class="nv">int</span>, <span class="nv">optional</span>
        <span class="nv">Number</span> <span class="nv">of</span> <span class="nv">features</span> <span class="nv">which</span> <span class="nv">are</span> <span class="nv">clones</span> <span class="nv">of</span> <span class="nv">existing</span> <span class="nv">ones</span>.
    <span class="nv">n_irrel</span> : <span class="nv">int</span>, <span class="nv">optional</span>
        <span class="nv">Number</span> <span class="nv">of</span> <span class="nv">features</span> <span class="nv">that</span> <span class="nv">are</span> <span class="nv">irrelevant</span>
    <span class="nv">partition</span>: <span class="nv">list</span> <span class="nv">of</span> <span class="nv">int</span>
        <span class="nv">Entries</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">list</span> <span class="nv">define</span> <span class="nv">how</span> <span class="nv">many</span> <span class="nv">weak</span> <span class="nv">relevant</span> <span class="nv">features</span> <span class="nv">are</span> <span class="nv">based</span> <span class="nv">on</span> <span class="nv">the</span> <span class="nv">same</span> <span class="nv">strongly</span> <span class="nv">relevant</span> <span class="nv">feature</span>
        <span class="nv">The</span> <span class="nv">sum</span> <span class="nv">over</span> <span class="nv">all</span> <span class="nv">list</span> <span class="nv">entries</span> <span class="nv">must</span> <span class="nv">be</span> <span class="nv">equal</span> <span class="nv">to</span> <span class="nv">n_weakrel</span>

    <span class="nv">Returns</span>
    <span class="o">-------</span>
    <span class="nv">X</span> : <span class="nv">array</span> <span class="nv">of</span> <span class="nv">shape</span> [<span class="nv">n_samples</span>, <span class="ss">(</span><span class="nv">n_strel</span> <span class="o">+</span> <span class="nv">n_weakrel</span> <span class="o">+</span> <span class="nv">n_repeated</span> <span class="o">+</span> <span class="nv">n_irrel</span>]
        <span class="nv">The</span> <span class="nv">generated</span> <span class="nv">samples</span>.
    <span class="nv">y</span> : <span class="nv">array</span> <span class="nv">of</span> <span class="nv">shape</span> [<span class="nv">n_samples</span>]
        <span class="nv">The</span> <span class="nv">output</span> <span class="nv">values</span> <span class="ss">(</span><span class="nv">target</span><span class="ss">)</span>.

    <span class="nv">Raises</span>
    <span class="o">------</span>
    <span class="nv">ValueError</span>
    <span class="nv">Wrong</span> <span class="nv">parameters</span> <span class="k">for</span> <span class="nv">specified</span> <span class="nv">amonut</span> <span class="nv">of</span> <span class="nv">features</span><span class="o">/</span><span class="nv">samples</span>.
    <span class="s2">&quot;&quot;&quot;</span>

    <span class="nv">_checkParam2</span><span class="ss">(</span>
        <span class="nv">n_samples</span><span class="o">=</span><span class="nv">n_samples</span>, <span class="nv">n_strel</span><span class="o">=</span><span class="nv">n_strel</span>, <span class="nv">n_weakrel</span><span class="o">=</span><span class="nv">n_weakrel</span>, <span class="nv">partition</span><span class="o">=</span><span class="nv">partition</span>
    <span class="ss">)</span>
    <span class="nv">random_state</span> <span class="o">=</span> <span class="nv">check_random_state</span><span class="ss">(</span><span class="nv">random_state</span><span class="ss">)</span>

    <span class="k">if</span> <span class="nv">partition</span> <span class="nv">is</span> <span class="nv">None</span>:
        <span class="nv">n_informative</span> <span class="o">=</span> <span class="nv">n_strel</span> <span class="o">+</span> <span class="nv">n_weakrel</span>
    <span class="k">else</span>:
        <span class="nv">n_informative</span> <span class="o">=</span> <span class="nv">n_strel</span> <span class="o">+</span> <span class="nv">len</span><span class="ss">(</span><span class="nv">partition</span><span class="ss">)</span>

    <span class="nv">X_informative</span> <span class="o">=</span> <span class="nv">random_state</span>.<span class="nv">randn</span><span class="ss">(</span><span class="nv">n_samples</span>, <span class="nv">n_informative</span><span class="ss">)</span>
    <span class="nv">ground_truth</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">zeros</span><span class="ss">((</span><span class="nv">n_informative</span>, <span class="mi">1</span><span class="ss">))</span>
    <span class="nv">ground_truth</span>[:<span class="nv">n_informative</span>, :] <span class="o">=</span> <span class="mi">0</span>.<span class="mi">3</span>
    <span class="nv">bias</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="nv">y</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">dot</span><span class="ss">(</span><span class="nv">X_informative</span>, <span class="nv">ground_truth</span><span class="ss">)</span> <span class="o">+</span> <span class="nv">bias</span>

    <span class="k">if</span> <span class="nv">noise</span> <span class="o">&gt;</span> <span class="mi">0</span>.<span class="mi">0</span>:
        <span class="nv">y</span> <span class="o">+=</span> <span class="nv">random_state</span>.<span class="nv">normal</span><span class="ss">(</span><span class="nv">scale</span><span class="o">=</span><span class="nv">noise</span>, <span class="nv">size</span><span class="o">=</span><span class="nv">y</span>.<span class="nv">shape</span><span class="ss">)</span>

    <span class="nv">X_strel</span> <span class="o">=</span> <span class="nv">X_informative</span>[:, :<span class="nv">n_strel</span>]
    <span class="nv">X_weakrel</span> <span class="o">=</span> <span class="nv">_genWeakFeatures</span><span class="ss">(</span>
        <span class="nv">n_weakrel</span>, <span class="nv">X_informative</span>[:, <span class="nv">n_strel</span>:], <span class="nv">random_state</span>, <span class="nv">partition</span>
    <span class="ss">)</span>
    <span class="nv">X_repeated</span> <span class="o">=</span> <span class="nv">_genRepeatedFeatures</span><span class="ss">(</span>
        <span class="nv">n_repeated</span>, <span class="nv">np</span>.<span class="nv">hstack</span><span class="ss">(</span>[<span class="nv">X_strel</span>, <span class="nv">X_weakrel</span>]<span class="ss">)</span>, <span class="nv">random_state</span>
    <span class="ss">)</span>
    <span class="nv">X_irrel</span> <span class="o">=</span> <span class="nv">random_state</span>.<span class="nv">normal</span><span class="ss">(</span><span class="nv">size</span><span class="o">=</span><span class="ss">(</span><span class="nv">n_samples</span>, <span class="nv">n_irrel</span><span class="ss">))</span>
    <span class="nv">X</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">hstack</span><span class="ss">(</span>[<span class="nv">X_strel</span>, <span class="nv">X_weakrel</span>, <span class="nv">X_repeated</span>, <span class="nv">X_irrel</span>]<span class="ss">)</span>
    <span class="nv">y</span> <span class="o">=</span> <span class="nv">np</span>.<span class="nv">squeeze</span><span class="ss">(</span><span class="nv">y</span><span class="ss">)</span>

    <span class="k">return</span> <span class="nv">X</span>, <span class="nv">y</span>
</pre></div>


</details>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../gen_data/" title="Gen Data" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Gen Data
              </span>
            </div>
          </a>
        
        
          <a href="../" title="Index" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Index
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Powered by
        <a href="http://timothycrosley.github.io/portray">portray.</a>
        You too can
        <a href="http://timothycrosley.github.io/portray">
          portray</a>
        your Python project well using automatic documentation.
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/application.c648116f.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../../.."}})</script>
      
    
  </body>
</html>